<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>

    <link rel="stylesheet" href="containers.css" />
    <link rel="stylesheet" href="nodestyles.css" />

    <style>
    </style>
</head>
<body>
    <div ng-app="myApp">
        <div ng-controller="HomeController">
            <h1>Angular with D3</h1>

            <button ng-click="drawGraph()">Redraw graph</button>
            <button ng-click="randomise()">Randomise!</button>

            <div class="container">
                <div class="item">
                    <strong>Preset arrangements</strong>
                    <button ng-click="drawSquareLattice()">Square Lattice</button>
                    <button ng-click="drawGraphene()">Graphene</button>
                    <button ng-click="drawCube()">Cube</button>
                    <button ng-click="drawMultipleCubes()">Multiple cubes</button>
                    <button ng-click="drawDNA()">DNA</button>

                    <table>
                        <tr>
                            <td>
                                <span>Link Distance</span>
                            </td>
                            <td>
                                <button ng-click="increaseLinkDistance(-1)">-</button>
                                <input ng-model="settings.linkDistance" ng-change="drawGraph()" />
                                <button ng-click="increaseLinkDistance(1)">+</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Charge</span>
                            </td>
                            <td>
                                <button ng-click="increaseCharge(-10)">-</button>
                                <input ng-model="settings.charge" ng-change="drawGraph()" />
                                <button ng-click="increaseCharge(10)">+</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Gravity</span>
                            </td>
                            <td>
                                <button ng-click="increaseGravity(-0.1)">-</button>
                                <input ng-model="settings.gravity" ng-change="drawGraph()" />
                                <button ng-click="increaseGravity(0.1)">+</button>
                            </td>
                        </tr>

                    </table>

                    <div>
                        <span>Click nodes to connect together</span>
                        <label>
                            <input type="radio" ng-model="settings.clickToConnect" data-ng-value="true" />
                            On
                        </label>
                        <label>
                            <input type="radio" ng-model="settings.clickToConnect" data-ng-value="false" />
                            Off
                        </label>

                    </div>

                    <span ng-if="clicked.StartNode">
                        Click on a node to connect to {{clicked.StartNode.Name}} [{{clicked.StartNode.ID}}]
                    </span>

                    <div class="container">
                        <div class="item">

                            <h2>Nodes</h2>
                            <p>
                                Highlight nodes in the table to see connected nodes and click on nodes to connect them together.
                                You can also add new nodes using the input boxes. Leave the ID or Name fields blank to autogenerate values.
                            </p>
                            <table class="graph-data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <input ng-model="newID" placeholder="ID (blank to autogenerate)">
                                        </td>
                                        <td>
                                            <input ng-model="newName" placeholder="Name (blank to autogenerate)">

                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <button ng-click="addNode(newID,newName)">Add node</button>
                                        </td>
                                    </tr>

                                    <tr ng-repeat="node in graph.data.nodes"
                                        class="node-select"
                                        ng-mouseover="highlightConnectedNodes(node.ID)"
                                        ng-mouseout="clearHighlights()"
                                        ng-click="setClickedNode(node)"
                                        ng-class="{'node-clicked' : node.clicked,
                                'node-highlight' : node.highlight}">
                                        <td>
                                            {{node.ID}}
                                        </td>
                                        <td>
                                            {{node.Name}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>
                        <div class="item">
                            <h2>Edges</h2>
                            <p>This shows which nodes are currently connected together. You can manually connect nodes by creating a new edge using the input boxes </p>
                            <table class="graph-data-table">
                                <thead>
                                    <tr>
                                        <th>Start Node ID</th>
                                        <th>End Node ID</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <input ng-model="newStartNode" placeholder="StartNode">
                                        </td>
                                        <td>
                                            <input ng-model="newEndNode" placeholder="EndNode">

                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <button ng-disabled="!newStartNode || !newEndNode"
                                                    ng-click="addEdge(newStartNode,newEndNode)">
                                                Add edge
                                            </button>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="edge in graph.data.edges">
                                        <td>
                                            {{edge.StartNode}}
                                        </td>
                                        <td>
                                            {{edge.EndNode}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div>
                            </div>


                        </div>

                    </div>




                </div>




                <div class="item">
                    <div id="graph-container"></div>
                </div>
            </div>
        </div>

    </div>
    <script src="packages/angular.min.js"></script>
    <script src='packages/d3.min.js'></script>
    <script src="AngularD3-preset-graphene.js"></script>
    <script src="AngularD3-preset-graphene-auto.js"></script>
    <script src="AngularD3-preset-cube.js"></script>
    <script src="AngularD3-preset-DNA.js"></script>
<script src="AngularD3-preset-multiplecubes.js"></script>
    <script src="AngularD3-preset-square-lattice.js"></script>

    <script src="AngularD3.js"></script>
</body>
</html>


